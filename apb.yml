version: 1.0
name: s3-apb
description: 'S3 Bucket'
tags:
  - amazon
  - S3
bindable: true
async: optional
metadata:
  displayName: "Amazon S3 (APB)"
  longDescription: "Amazon Simple Storage Service (Amazon S3) is storage for the Internet. You can use Amazon S3 to store and retrieve any amount of data at any time, from anywhere on the web. You can accomplish these tasks using the simple and intuitive web interface of the AWS Management Console"
  imageUrl: "https://s3.amazonaws.com/thp-aws-icons-dev/Storage_AmazonS3_LARGE.png"
  documentationUrl: https://aws.amazon.com/documentation/s3/
  providerDisplayName: "awsservicebroker"
plans:
  - name: s3-custom
    description: 'S3 Bucket with a custom configuration'
    free: false
    metadata:
      displayName: "Amazon S3 - Custom"
      longDescription: "Amazon Simple Storage Service (Amazon S3) is storage for the Internet. You can use Amazon S3 to store and retrieve any amount of data at any time, from anywhere on the web. You can accomplish these tasks using the simple and intuitive web interface of the AWS Management Console"
      cost: $0.00
    parameters:
      #########################
      # AWS Account Information
      #########################
      - name: aws_access_key
        required: true
        title: AWS Access Key
        description: 'AWS Access Key to authenticate to AWS with.'
        type: string
        display_group: AWS Account Information
      - name: aws_secret_key
        required: true
        title: AWS Secret Key
        description: 'AWS Secret Key to authenticate to AWS with.'
        type: string
        display_group: AWS Account Information
      - name: aws_cloudformation_role_arn
        required: true
        title: AWS Cloudformation role ARN
        description: 'IAM role ARN for use as Cloudformation Stack Role.'
        type: string
        display_group: AWS Account Information
      - name: region
        required: true
        title: AWS Region
        description: 'AWS Region to create the bucket in.'
        type: enum
        enum:
          - ap-northeast-1
          - ap-northeast-2
          - ap-south-1
          - ap-southeast-1
          - ap-southeast-2
          - ca-central-1
          - eu-central-1
          - eu-west-1
          - eu-west-2
          - sa-east-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        default: "us-west-2"
        display_group: AWS Account Information
      ####################
      # S3 Bucket Settings
      ####################
      - name: BucketName
        required: true
        title: Bucket Name
        description: 'Must contain only lowercase letters, numbers, periods (.), and hyphens (-),Cannot end in numbers'
        type: string
        display_group: S3 Bucket Settings
      - name: LoggingPrefix
        required: true
        title: Logging Prefix
        description: 'Must contain only lowercase letters, numbers, periods (.), and hyphens (-),Cannot end in numbers'
        type: string
        default: "Log"
        display_group: S3 Bucket Settings
      - name: GlacierLifeCycleTransitionInDays
        required: true
        title: Glacier Life Cycle Tranition In Days
        description: 'Define how many days objects should exist before being moved to Glacier'
        type: string
        default: "1"
        display_group: S3 Bucket Settings
      - name: EnableGlacierLifeCycle
        required: true
        title: Enable Glacier Life Cycle
        description: 'enable archiving to Glacier Storage true or false default is false'
        type: boolean
        default: false
        display_group: S3 Bucket Settings
      - name: EnableVersioning
        required: true
        title: Enable Versioning
        description: 'enable versioning default is true'
        type: boolean
        default: true
        display_group: S3 Bucket Settings
      - name: LifeCyclePrefix
        required: true
        title: Life Cycle Prefix
        description: 'Must contain only lowercase letters, numbers, periods (.), and hyphens (-),Cannot end in numbers'
        type: string
        default: "Archive"
        display_group: S3 Bucket Settings
      - name: BucketAccessControl
        required: true
        title: Bucket Access Control
        description: 'define if the bucket can be accessed from public or private locations'
        type: enum
        enum:
          - Private
          - PublicRead
          - PublicReadWrite
          - AuthenticatedRead
          - LogDeliveryWrite
          - BucketOwnerRead
          - BucketOwnerFullControl
          - AwsExecRead
        default: "Private"
        display_group: S3 Bucket Settings
  - name: s3-prod
    description: 'S3 Bucket pre-configured with production best practices'
    free: false
    metadata:
      displayName: "Amazon S3 - Production"
      longDescription: "Amazon Simple Storage Service (Amazon S3) is storage for the Internet. You can use Amazon S3 to store and retrieve any amount of data at any time, from anywhere on the web. You can accomplish these tasks using the simple and intuitive web interface of the AWS Management Console"
      cost: $0.00
    parameters:
      #########################
      # AWS Account Information
      #########################
      - name: aws_access_key
        required: true
        title: AWS Access Key
        description: 'AWS Access Key to authenticate to AWS with.'
        type: string
        display_group: AWS Account Information
      - name: aws_secret_key
        required: true
        title: AWS Secret Key
        description: 'AWS Secret Key to authenticate to AWS with.'
        type: string
        display_group: AWS Account Information
      - name: aws_cloudformation_role_arn
        required: true
        title: AWS Cloudformation role ARN
        description: 'IAM role ARN for use as Cloudformation Stack Role.'
        type: string
        display_group: AWS Account Information
      - name: region
        required: true
        title: AWS Region
        description: 'AWS Region to create the bucket in.'
        type: enum
        enum:
          - ap-northeast-1
          - ap-northeast-2
          - ap-south-1
          - ap-southeast-1
          - ap-southeast-2
          - ca-central-1
          - eu-central-1
          - eu-west-1
          - eu-west-2
          - sa-east-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        default: "us-west-2"
        display_group: AWS Account Information
