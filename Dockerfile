FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogczMtYXBiCmltYWdlOiBhbnNpYmxlcGxheWJvb2tidW5kbGUvczMtYXBiCmRlc2NyaXB0\
aW9uOiAnUzMgYnVja2V0Jwp0YWdzOgogIC0gYW1hem9uCiAgLSBTMwpiaW5kYWJsZTogdHJ1ZQph\
c3luYzogb3B0aW9uYWwKcGxhbnM6CiAgLSBuYW1lOiBkZWZhdWx0CiAgICBkZXNjcmlwdGlvbjog\
J1MzIGJ1Y2tldCcKICAgIGZyZWU6IGZhbHNlCiAgICBwYXJhbWV0ZXJzOgogICAgICAtIG5hbWU6\
IHN0YWNrX2lkZW50aWZpZXIKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBV\
bmlxdWUgU3RhY2sgSWRlbnRpZmllcgogICAgICAgIGRlc2NyaXB0aW9uOiAnVW5pcXVlIGlkZW50\
aWZpZXIgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIENsb3VkRm9ybWF0aW9uIFN0YWNrIE5hbWUgdG8g\
cHJldmVudCBuYW1pbmcgY29sbGlzaW9ucy4gTXVzdCBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmlj\
IGNoYXJhY3RlcnMgYW5kIGh5cGhlbnMuIChlLmcuICJzYW1wbGUtUzMtc3RhY2siLCAicHJvZHVj\
dGlvbi1TMy0wOS0yMDE3IiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogYXdz\
X2FjY2Vzc19rZXkKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1MgQWNj\
ZXNzIEtleQogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIEFjY2VzcyBLZXkgdG8gYXV0aGVudGlj\
YXRlIHRvIEFXUyB3aXRoLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBhd3Nf\
c2VjcmV0X2tleQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBTZWNy\
ZXQgS2V5CiAgICAgICAgZGVzY3JpcHRpb246ICdBV1MgU2VjcmV0IEtleSB0byBhdXRoZW50aWNh\
dGUgdG8gQVdTIHdpdGguJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IHJlZ2lv\
bgogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBSZWdpb24KICAgICAg\
ICBkZXNjcmlwdGlvbjogJ0FXUyBSZWdpb24gdG8gY3JlYXRlIHRoZSBidWNrZXQgaW4uJwogICAg\
ICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICJ1cy13ZXN0LTIiCiAgICAgIC0gbmFt\
ZTogQXBwbGljYXRpb25OYW1lCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTog\
QXBwbGljYXRpb24gTmFtZQogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhpcyB3aWxsIGJlIHNldCBh\
cyB0aGUgdmFsdWUgZm9yIHRoZSBcIkFQUExJQ0FUSU9OX05BTUVcIiB0YWcgb24gYWxsIHN1cHBv\
cnRlZCByZXNvdXJjZXMnCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogQnVja2V0\
TmFtZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEJ1Y2tldCBOYW1lCiAg\
ICAgICAgZGVzY3JpcHRpb246ICdNdXN0IGNvbnRhaW4gb25seSBsb3dlcmNhc2UgbGV0dGVycywg\
bnVtYmVycywgcGVyaW9kcyAoLiksIGFuZCBoeXBoZW5zICgtKSxDYW5ub3QgZW5kIGluIG51bWJl\
cnMnCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogTG9nZ2luZ1ByZWZpeAogICAg\
ICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IExvZ2dpbmcgUHJlZml4CiAgICAgICAg\
ZGVzY3JpcHRpb246ICdNdXN0IGNvbnRhaW4gb25seSBsb3dlcmNhc2UgbGV0dGVycywgbnVtYmVy\
cywgcGVyaW9kcyAoLiksIGFuZCBoeXBoZW5zICgtKSxDYW5ub3QgZW5kIGluIG51bWJlcnMnCiAg\
ICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogIkxvZyIKICAgICAgLSBuYW1lOiBH\
bGFjaWVyTGlmZUN5Y2xlVHJhbnNpdGlvbkluRGF5cwogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAg\
ICAgICAgdGl0bGU6IEdsYWNpZXIgTGlmZSBDeWNsZSBUcmFuaXRpb24gSW4gRGF5cwogICAgICAg\
IGRlc2NyaXB0aW9uOiAnRGVmaW5lIGhvdyBtYW55IGRheXMgb2JqZWN0cyBzaG91bGQgZXhpc3Qg\
YmVmb3JlIGJlaW5nIG1vdmVkIHRvIEdsYWNpZXInCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAg\
ICAgZGVmYXVsdDogIjEiCiAgICAgIC0gbmFtZTogRW5hYmxlR2xhY2llckxpZmVDeWNsZQogICAg\
ICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEVuYWJsZSBHbGFjaWVyIExpZmUgQ3lj\
bGUKICAgICAgICBkZXNjcmlwdGlvbjogJ2VuYWJsZSBhcmNoaXZpbmcgdG8gR2xhY2llciBTdG9y\
YWdlIHRydWUgb3IgZmFsc2UgZGVmYXVsdCBpcyBmYWxzZScKICAgICAgICB0eXBlOiBzdHJpbmcK\
ICAgICAgICBkZWZhdWx0OiAiZmFsc2UiCiAgICAgIC0gbmFtZTogRW5hYmxlVmVyc2lvbmluZwog\
ICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEVuYWJsZSBWZXJzaW9uaW5nCiAg\
ICAgICAgZGVzY3JpcHRpb246ICdlbmFibGUgdmVyc2lvbmluZyBkZWZhdWx0IGlzIHRydWUnCiAg\
ICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogInRydWUiCiAgICAgIC0gbmFtZTog\
TGlmZUN5Y2xlUHJlZml4CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogTGlm\
ZSBDeWNsZSBQcmVmaXgKICAgICAgICBkZXNjcmlwdGlvbjogJ011c3QgY29udGFpbiBvbmx5IGxv\
d2VyY2FzZSBsZXR0ZXJzLCBudW1iZXJzLCBwZXJpb2RzICguKSwgYW5kIGh5cGhlbnMgKC0pLENh\
bm5vdCBlbmQgaW4gbnVtYmVycycKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0\
OiAiQXJjaGl2ZSIKICAgICAgLSBuYW1lOiBCdWNrZXRBY2Nlc3NDb250cm9sCiAgICAgICAgcmVx\
dWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQnVja2V0IEFjY2VzcyBDb250cm9sCiAgICAgICAg\
ZGVzY3JpcHRpb246ICdkZWZpbmUgaWYgdGhlIGJ1Y2tldCBjYW4gYmUgYWNjZXNzZWQgZnJvbSBw\
dWJsaWMgb3IgcHJpdmF0ZSBsb2NhdGlvbnMnCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAg\
ZGVmYXVsdDogIlByaXZhdGUiCgoKICAgIG1ldGFkYXRhOgogICAgICAgIGRpc3BsYXlOYW1lOiAi\
QW1hem9uIFMzIgogICAgICAgIGxvbmdEZXNjcmlwdGlvbjogIkFtYXpvbiBTaW1wbGUgU3RvcmFn\
ZSBTZXJ2aWNlIChBbWF6b24gUzMpIGlzIHN0b3JhZ2UgZm9yIHRoZSBJbnRlcm5ldC4gWW91IGNh\
biB1c2UgQW1hem9uIFMzIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBhbnkgYW1vdW50IG9mIGRhdGEg\
YXQgYW55IHRpbWUsIGZyb20gYW55d2hlcmUgb24gdGhlIHdlYi4gWW91IGNhbiBhY2NvbXBsaXNo\
IHRoZXNlIHRhc2tzIHVzaW5nIHRoZSBzaW1wbGUgYW5kIGludHVpdGl2ZSB3ZWIgaW50ZXJmYWNl\
IG9mIHRoZSBBV1MgTWFuYWdlbWVudCBDb25zb2xlIgogICAgICAgIGltYWdlVXJsOiAiaHR0cHM6\
Ly9kMC5hd3NzdGF0aWMuY29tL2Nsb3VkLXN0b3JhZ2UvRGVja19EYXRhYmFzZXMucG5nIgogICAg\
ICAgIGRvY3VtZW50YXRpb25Vcmw6IGh0dHBzOi8vYXdzLmFtYXpvbi5jb20vZG9jdW1lbnRhdGlv\
bi9zMy8KICAgICAgICBjb3N0OiAkMC4wMAo="


USER apb
